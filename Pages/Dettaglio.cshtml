@page "/Dettaglio"
@model UfficioSinistri.Pages.DettaglioModel
@{
    ViewData["Title"] = "Dettaglio Sinistro";
}

<div class="main-container">
	<!--<h1>@ViewData["Title"]</h1>-->
 
    @if (Model.Chiamata == null)
    {
        <div class="alert alert-warning">Sinistro non trovato.</div>
    }
    else
    {
        <h1 class="mb-4">@ViewData["Title"]</h1>

        <div class="sinistro-card">
            <div class="row">
                <div class="col-label">HistoryCallId</div>
                <div class="col-value">@Model.Chiamata.HistoryCallId</div>
            </div>
		    <div class="row">
			    <div class="col-label">Numero</div>
			    <div class="col-value">@Model.Chiamata.Numero</div>
		    </div>
            <div class="row">
                <div class="col-label">Nome Comunicato</div>
                <div class="col-value">@Model.Chiamata.NomeComunicato</div>
            </div>
            <div class="row">
                <div class="col-label">Corrispondenza Rubrica</div>
                <div class="col-value">@Model.Chiamata.CorrispondenzaRubrica</div>
            </div>
            <div class="row">
                <div class="col-label">Targa</div>
                <div class="col-value">@Model.Chiamata.Targa</div>
            </div>
            <div class="row">
                <div class="col-label">Evento</div>
                <div class="col-value">@Model.Chiamata.Evento</div>
            </div>
            <div class="row">
                <div class="col-label">Riassunto</div>
                <div class="col-value">@Model.Chiamata.Riassunto</div>
            </div>
            <div class="row">
                <div class="col-label">Testo</div>
                <div class="col-value testo-lungo">@Model.Chiamata.Testo</div>
            </div>
        </div>

            <div class="mt-4">
                <!-- Pulsanti di export -->
                <a asp-page-handler="ExportCsv"
                   asp-route-id="@Model.Chiamata.Id"
                   class="btn btn-outline-secondary btn-sm me-2">
                    Esporta CSV
                </a>
                <a asp-page-handler="ExportPdf"
                   asp-route-id="@Model.Chiamata.Id"
                   class="btn btn-outline-secondary btn-sm">
                    Esporta PDF
                </a>
            </div>

        <div class="mt-4">
            <a asp-page="/Chiamate" class="btn btn-firstpoint">← Torna alla lista</a>
        </div>
    }
</div>

